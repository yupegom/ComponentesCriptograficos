functor
import
   Componente at 'file:../../AbstraccionComponente/Componente.ozf'
   Browser
   %GeneradorClave at 'file:../../GeneradorClave/GeneradorClave.ozf'
export
   generarLlaves:IGenerarLlaves
   codificar:ICodificar
define
   proc {IGenerarLlaves R2 Flujo3 PuertoGeneracionLlaves}

      {Componente.nuevoPuertoReq
       proc{$Msg}
	  case Msg of codificar(Texto Llave ?TextCodificado) then
	     try
		{LlamarServicio R2 Msg}
	     catch X then {Browser.browse 'Se presentó la excepción ' #X# ' No se pueden generar las llaves.' } end
	  [] _ then skip
	  end

       end Flujo3 PuertoGeneracionLlaves}
   end

   proc {ICodificar PuertoCodificacion Flujo PuertoLibCodificacion}

      {Componente.nuevoPuertoReq
       proc{$Msg}
	  try
	     {Browser.browse Msg}
	     {LlamarServicio PuertoCodificacion Msg}
	  catch X then {Browser.browse 'Se presentó la excepción ' #X# ' No se pueden generar las llaves.' } end

       end Flujo PuertoLibCodificacion}
   end

   proc {LlamarServicio Puerto Msg}
      {Componente.proveerServ Puerto Msg}
   end
   
end

      
   